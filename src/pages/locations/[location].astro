---
import BaseHead from '../../components/BaseHead.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import { SITE_TITLE } from '../../consts';
import { getLocations, getLocationBySlug } from '../../utils/seo-data';

export async function getStaticPaths() {
	const locations = getLocations();
	return locations.map((location) => ({
		params: { location: location.slug },
		props: { location },
	}));
}

const { location: locationData } = Astro.props;
const locationName = locationData.name;
const pageTitle = `${locationData.title} | ${SITE_TITLE}`;
const pageDescription = locationData.description;

const siteUrl = Astro.site || 'https://example.com';
const currentUrl = `${siteUrl}/locations/${locationData.slug}`;
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={pageTitle} description={pageDescription} />
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@type": "LocalBusiness",
			"name": locationData.title,
			"description": locationData.description,
			"url": currentUrl,
			"address": {
				"@type": "PostalAddress",
				"addressLocality": locationName,
				"addressCountry": "GB"
			},
			"areaServed": {
				"@type": "City",
				"name": locationName
			}
		})} />
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@type": "BreadcrumbList",
			"itemListElement": [
				{
					"@type": "ListItem",
					"position": 1,
					"name": "Home",
					"item": siteUrl
				},
				{
					"@type": "ListItem",
					"position": 2,
					"name": locationData.title,
					"item": currentUrl
				}
			]
		})} />
	</head>
	<body class="bg-white text-slate-900 font-sans antialiased">
		<Navbar />
		<main class="w-full min-h-screen flex flex-col">
			<!-- Hero Section -->
			<section style="padding: 8rem 0 6rem; background: var(--color-navy-900); position: relative; overflow: hidden;">
				<div style="position: absolute; inset: 0; opacity: 0.1; background-image: radial-gradient(rgb(251, 191, 36) 1px, transparent 1px); background-size: 30px 30px;"></div>
				<div style="max-width: 1280px; margin: 0 auto; padding: 0 1rem; text-align: center; position: relative; z-index: 10;">
					<div style="display: inline-flex; align-items: center; padding: 0.5rem 1rem; border-radius: 9999px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--color-gold-500); font-weight: 600; font-size: 0.875rem; margin-bottom: 2rem;">
						Website Builders in {locationName}
					</div>
					<h1 style="font-size: 3.5rem; font-weight: bold; color: white; margin-bottom: 1.5rem; line-height: 1.1;">
						Website Builders in {locationName}
					</h1>
					<p style="font-size: 1.25rem; color: #9ca3af; max-width: 42rem; margin: 0 auto; line-height: 1.75;">
						{locationData.description}
					</p>
				</div>
			</section>

			<!-- Why Section -->
			<section style="padding: 6rem 0; background: white;">
				<div style="max-width: 1280px; margin: 0 auto; padding: 0 1rem;">
					<div style="max-width: 48rem; margin: 0 auto;">
						<h2 style="font-size: 2.5rem; font-weight: bold; color: var(--color-navy-900); margin-bottom: 2rem; text-align: center;">Why Trades in {locationName} Choose Us</h2>
						<p style="font-size: 1.125rem; color: #475569; line-height: 1.75; margin-bottom: 2rem; text-align: center;">
							We understand the local market in {locationName}. Whether you are based in the city centre or the surrounding suburbs,
							we build websites that target your local customers specifically.
						</p>
						<p style="font-size: 1.125rem; color: #475569; line-height: 1.75; text-align: center;">
							Don't let your competitors in {locationName} take all the work. Get a site that ranks on Google Maps and organic search.
						</p>
					</div>
				</div>
			</section>

			<!-- CTA Section -->
			<section style="padding: 6rem 0; background: var(--color-navy-900);">
				<div style="max-width: 1280px; margin: 0 auto; padding: 0 1rem; text-align: center;">
					<h2 style="font-size: 2.5rem; font-weight: bold; color: white; margin-bottom: 1.5rem;">Ready to Get Started?</h2>
					<p style="font-size: 1.25rem; color: #9ca3af; margin-bottom: 2rem; max-width: 42rem; margin-left: auto; margin-right: auto;">Let's build a website that gets you more leads in {locationName}.</p>
					<div style="display: flex; flex-direction: column; align-items: center; gap: 1.5rem;">
						<a href="tel:07700171266" style="display: inline-flex; align-items: center; background: var(--color-gold-500); color: var(--color-navy-900); font-size: 1.25rem; font-weight: bold; padding: 1.5rem 2.5rem; border-radius: 9999px; text-decoration: none; transition: all 0.2s;">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 0.75rem;">
								<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
							</svg>
							Call 07700 171 266
						</a>
						<a href="/pricing" style="display: inline-flex; align-items: center; border: 1px solid rgba(255, 255, 255, 0.2); background: transparent; color: white; font-size: 1.125rem; font-weight: 500; padding: 1.5rem 2.5rem; border-radius: 9999px; text-decoration: none; transition: all 0.2s;">
							View Pricing
						</a>
					</div>
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>

