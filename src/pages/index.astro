---
import BaseHead from '../components/BaseHead.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import NewHero from '../components/NewHero.astro';
import Services from '../components/Services.astro';
import WhyUs from '../components/WhyUs.astro';
import CTA from '../components/CTA.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body class="bg-white text-slate-900 font-sans antialiased">
		<Navbar />
		<main class="w-full min-h-screen flex flex-col">
			<NewHero />
			<section class="problem-solution-section" style="background: white; padding: 3rem 0; border-bottom: 1px solid #e2e8f0;">
				<div style="max-width: 1280px; margin: 0 auto; padding: 0 1rem;">
					<div class="problem-solution-grid" style="display: grid; grid-template-columns: 1fr; gap: 2rem; text-align: center;">
						<div class="problem-item problem-item-1" style="padding: 1rem; display: flex; flex-direction: column; align-items: center; border-bottom: 1px solid #e2e8f0;">
							<div style="background: #fee2e2; padding: 0.75rem; border-radius: 9999px; margin-bottom: 1rem;">
								<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #dc2626;">
									<circle cx="12" cy="12" r="10"></circle>
									<path d="m15 9-6 6"></path>
									<path d="m9 9 6 6"></path>
								</svg>
							</div>
							<h3 style="font-family: var(--font-heading); font-weight: bold; font-size: 1.25rem; color: var(--color-navy-900); margin-bottom: 0.5rem;">Most Trade Sites Fail</h3>
							<p style="color: #475569;">They look pretty but don't convert visitors into paying jobs.</p>
						</div>
						<div class="problem-item problem-item-2" style="padding: 1rem; display: flex; flex-direction: column; align-items: center; border-bottom: 1px solid #e2e8f0;">
							<div style="background: #e0e7ff; padding: 0.75rem; border-radius: 9999px; margin-bottom: 1rem;">
								<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--color-navy-900);">
									<path d="m21 21-4.34-4.34"></path>
									<circle cx="11" cy="11" r="8"></circle>
								</svg>
							</div>
							<h3 style="font-family: var(--font-heading); font-weight: bold; font-size: 1.25rem; color: var(--color-navy-900); margin-bottom: 0.5rem;">Invisible on Google</h3>
							<p style="color: #475569;">If you aren't on page 1 for "Plumber [City]", you don't exist.</p>
						</div>
						<div class="problem-item problem-item-3" style="padding: 1rem; display: flex; flex-direction: column; align-items: center;">
							<div style="background: #dcfce7; padding: 0.75rem; border-radius: 9999px; margin-bottom: 1rem;">
								<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #16a34a;">
									<circle cx="12" cy="12" r="10"></circle>
									<path d="m9 12 2 2 4-4"></path>
								</svg>
							</div>
							<h3 style="font-family: var(--font-heading); font-weight: bold; font-size: 1.25rem; color: var(--color-navy-900); margin-bottom: 0.5rem;">The Solution</h3>
							<p style="color: #475569;">We build sites engineered to capture leads and rank locally.</p>
						</div>
					</div>
				</div>
			</section>
			<style>
				.problem-item {
					opacity: 0;
				}
				
				.reviews-quote-icon,
				.reviews-quote,
				.reviews-stars {
					opacity: 0;
				}

				@media (min-width: 768px) {
					.problem-solution-grid {
						grid-template-columns: repeat(3, 1fr) !important;
					}
					.problem-item {
						border-bottom: none !important;
						border-right: 1px solid #e2e8f0;
					}
					.problem-item:last-child {
						border-right: none;
					}
				}
			</style>
			
			<script>
				function waitForGSAP(callback) {
					if (typeof window !== 'undefined' && window.gsap && window.ScrollTrigger) {
						callback();
					} else {
						setTimeout(() => waitForGSAP(callback), 50);
					}
				}

				function initSectionAnimations() {
					gsap.registerPlugin(ScrollTrigger);
					
					// Problem/Solution section animations
					gsap.set('.problem-item', { opacity: 0, y: 50 });
					
					gsap.to('.problem-item', {
						scrollTrigger: {
							trigger: '.problem-solution-section',
							start: 'top 80%',
							toggleActions: 'play none none none'
						},
						opacity: 1,
						y: 0,
						duration: 0.8,
						stagger: 0.15,
						ease: 'power3.out'
					});
					
					// Reviews section animations
					gsap.set('.reviews-quote-icon', { opacity: 0, scale: 0.8 });
					gsap.set('.reviews-quote', { opacity: 0, y: 30 });
					gsap.set('.reviews-stars', { opacity: 0, y: 20 });
					
					gsap.to('.reviews-quote-icon', {
						scrollTrigger: {
							trigger: '.reviews-section',
							start: 'top 80%',
							toggleActions: 'play none none none'
						},
						opacity: 1,
						scale: 1,
						duration: 0.6,
						ease: 'power3.out'
					});
					
					gsap.to('.reviews-quote', {
						scrollTrigger: {
							trigger: '.reviews-section',
							start: 'top 80%',
							toggleActions: 'play none none none'
						},
						opacity: 1,
						y: 0,
						duration: 0.8,
						delay: 0.2,
						ease: 'power3.out'
					});
					
					gsap.to('.reviews-stars', {
						scrollTrigger: {
							trigger: '.reviews-section',
							start: 'top 80%',
							toggleActions: 'play none none none'
						},
						opacity: 1,
						y: 0,
						duration: 0.6,
						delay: 0.4,
						ease: 'power3.out'
					});
				}

				if (document.readyState === 'loading') {
					document.addEventListener('DOMContentLoaded', () => {
						waitForGSAP(initSectionAnimations);
					});
				} else {
					waitForGSAP(initSectionAnimations);
				}
			</script>
			<Services />
			<WhyUs />
			<section id="reviews" class="reviews-section" style="padding: 6rem 0; background: #f8fafc; border-top: 1px solid #e2e8f0;">
				<div style="max-width: 896px; margin: 0 auto; padding: 0 1rem; text-align: center;">
					<svg class="reviews-quote-icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #cbd5e1; margin: 0 auto 1.5rem; fill: currentColor;">
						<path d="M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"></path>
						<path d="M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"></path>
					</svg>
					<h3 class="reviews-quote" style="font-family: var(--font-heading); font-weight: bold; font-size: 2rem; color: var(--color-navy-900); margin-bottom: 2rem; line-height: 1.3;">
						"Since launching the new site, our phone calls have tripled. Best investment we made this year."
					</h3>
					<div class="reviews-stars" style="display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="fill: currentColor; color: var(--color-gold-500);">
							<path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="fill: currentColor; color: var(--color-gold-500);">
							<path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="fill: currentColor; color: var(--color-gold-500);">
							<path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="fill: currentColor; color: var(--color-gold-500);">
							<path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="fill: currentColor; color: var(--color-gold-500);">
							<path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
						</svg>
					</div>
				</div>
			</section>
			<CTA />
		</main>
		<Footer />
		
		<script>
			function waitForGSAP(callback) {
				if (typeof window !== 'undefined' && window.gsap && window.ScrollTrigger && window.ScrollToPlugin) {
					callback();
				} else {
					setTimeout(() => waitForGSAP(callback), 50);
				}
			}

			function initAnimations() {
				gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);
				
				// Smooth scroll for anchor links
				document.querySelectorAll('a[href^="#"]').forEach(anchor => {
					anchor.addEventListener('click', function (e) {
						e.preventDefault();
						const target = document.querySelector(this.getAttribute('href'));
						if (target) {
							gsap.to(window, {
								duration: 1,
								scrollTo: {
									y: target,
									offsetY: 80
								},
								ease: 'power2.inOut'
							});
						}
					});
				});
				
			}

			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', () => {
					waitForGSAP(initAnimations);
				});
			} else {
				waitForGSAP(initAnimations);
			}
		</script>
	</body>
</html>

